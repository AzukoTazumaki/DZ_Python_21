{% block auto_create_employees %}
<div class="row d-flex align-items-center justify-content-between code_description mt-4">
    <div class="col-4">
        <h5>Метод создания работников</h5>
        <hr>
        <p class="mt-3">
            Метод является статическим, как и в задании с баскетболистами с одним различием – 
            здесь мы используем библиотеку <span class="help_translate">mimesis</span> для 
            создания некой базы работников, а не парсим сайт. Для начала создаем два объекта 
            <span class="help_translate">Person</span> и <span class="help_translate">Gender</span>. 
            Создаем список колонок, который в дальнейшем используем с помощью библиотеки 
            <span class="help_translate">pandas</span>. Далее с помощью генератора списков создаем список 
            работников, на каждой итерации создается словарь с информацией о работнике: Имя, Телефон, Почта, 
            Возраст, Должность, Национальность, Университет и Опыт работы. Генератор имеет длину в 100 итераций. 
            Теперь уточнение. Следующие шаги при использовании <span class="help_translate">pandas</span> отличаются 
            от тех, что я делал при парсинге сайта. Здесь я сначала перезаписываю файл, в который пишутся только 
            названия колонок, иными словами – шапка. А потом на каждой итерации цикла по созданному далее списку 
            создается отдельный <span class="help_translate">DataFrame</span>, в который передается каждый работник. 
            Такие различия имеют место быть в связи с тем, что я экспериментировал с написанием кода, проверяя, что работает 
            быстрее, решил не менять и оставить как есть, на память.
        </p>
    </div>
    <div class="col-8">
        <div class="highlight" style="background: #fdf6e3; border-radius: 8px;border: 1px solid grey;padding: 15px"><pre style="line-height: 125%;"><span></span>
<span style="color: #268bd2">@staticmethod</span> 
<span style="color: #859900">def</span> <span style="color: #268bd2">auto_create_employees</span><span style="color: #657b83">():</span> 
    <span style="color: #657b83">person</span> <span style="color: #93a1a1">=</span> <span style="color: #657b83">Person(locale</span><span style="color: #93a1a1">=</span><span style="color: #657b83">Locale</span><span style="color: #93a1a1">.</span><span style="color: #657b83">RU)</span> 
    <span style="color: #657b83">gender</span> <span style="color: #93a1a1">=</span> <span style="color: #657b83">choice([Gender</span><span style="color: #93a1a1">.</span><span style="color: #657b83">FEMALE,</span> <span style="color: #657b83">Gender</span><span style="color: #93a1a1">.</span><span style="color: #657b83">MALE])</span> 
    <span style="color: #657b83">columns:</span> <span style="color: #268bd2">list</span> <span style="color: #93a1a1">=</span> <span style="color: #657b83">[</span><span style="color: #2aa198">&#39;Name&#39;</span><span style="color: #657b83">,</span> <span style="color: #2aa198">&#39;Phone&#39;</span><span style="color: #657b83">,</span> <span style="color: #2aa198">&#39;Email&#39;</span><span style="color: #657b83">,</span> <span style="color: #2aa198">&#39;Age&#39;</span><span style="color: #657b83">,</span> <span style="color: #2aa198">&#39;Occupation&#39;</span><span style="color: #657b83">,</span> <span style="color: #2aa198">&#39;Nationality&#39;</span><span style="color: #657b83">,</span> <span style="color: #2aa198">&#39;University&#39;</span><span style="color: #657b83">,</span> <span style="color: #2aa198">&#39;Work Experience&#39;</span><span style="color: #657b83">]</span> 
    <span style="color: #657b83">employees_list:</span> <span style="color: #268bd2">list</span> <span style="color: #93a1a1">=</span> <span style="color: #657b83">[</span> 
        <span style="color: #657b83">{</span> 
            <span style="color: #2aa198">&#39;name&#39;</span><span style="color: #657b83">:</span> <span style="color: #657b83">person</span><span style="color: #93a1a1">.</span><span style="color: #657b83">full_name(gender</span><span style="color: #93a1a1">=</span><span style="color: #657b83">gender),</span> 
            <span style="color: #2aa198">&#39;phone&#39;</span><span style="color: #657b83">:</span> <span style="color: #657b83">person</span><span style="color: #93a1a1">.</span><span style="color: #657b83">telephone(mask</span><span style="color: #93a1a1">=</span><span style="color: #2aa198">&#39;+7(9##)-###-##-##&#39;</span><span style="color: #657b83">),</span> 
            <span style="color: #2aa198">&#39;email&#39;</span><span style="color: #657b83">:</span> <span style="color: #657b83">person</span><span style="color: #93a1a1">.</span><span style="color: #657b83">email(domains</span><span style="color: #93a1a1">=</span><span style="color: #657b83">[</span><span style="color: #2aa198">&#39;mail.ru&#39;</span><span style="color: #657b83">,</span> <span style="color: #2aa198">&#39;gmail.com&#39;</span><span style="color: #657b83">,</span> <span style="color: #2aa198">&#39;yandex.ru&#39;</span><span style="color: #657b83">]),</span> 
            <span style="color: #2aa198">&#39;age&#39;</span><span style="color: #657b83">:</span> <span style="color: #657b83">person</span><span style="color: #93a1a1">.</span><span style="color: #657b83">age(minimum</span><span style="color: #93a1a1">=</span><span style="color: #2aa198">25</span><span style="color: #657b83">,</span> <span style="color: #657b83">maximum</span><span style="color: #93a1a1">=</span><span style="color: #2aa198">66</span><span style="color: #657b83">),</span> 
            <span style="color: #2aa198">&#39;occupation&#39;</span><span style="color: #657b83">:</span> <span style="color: #657b83">person</span><span style="color: #93a1a1">.</span><span style="color: #657b83">occupation(),</span> 
            <span style="color: #2aa198">&#39;nationality&#39;</span><span style="color: #657b83">:</span> <span style="color: #657b83">person</span><span style="color: #93a1a1">.</span><span style="color: #657b83">nationality(gender</span><span style="color: #93a1a1">=</span><span style="color: #657b83">gender),</span> 
            <span style="color: #2aa198">&#39;university&#39;</span><span style="color: #657b83">:</span> <span style="color: #657b83">person</span><span style="color: #93a1a1">.</span><span style="color: #657b83">university(),</span> 
            <span style="color: #2aa198">&#39;work_experience&#39;</span><span style="color: #657b83">:</span> <span style="color: #657b83">person</span><span style="color: #93a1a1">.</span><span style="color: #657b83">work_experience(working_start_age</span><span style="color: #93a1a1">=</span><span style="color: #2aa198">20</span><span style="color: #657b83">)</span> 
        <span style="color: #657b83">}</span> <span style="color: #859900">for</span> <span style="color: #657b83">_</span> <span style="color: #859900">in</span> <span style="color: #268bd2">range</span><span style="color: #657b83">(</span><span style="color: #2aa198">100</span><span style="color: #657b83">)</span> 
    <span style="color: #657b83">]</span> 
    <span style="color: #657b83">df_w</span> <span style="color: #93a1a1">=</span> <span style="color: #657b83">pd</span><span style="color: #93a1a1">.</span><span style="color: #657b83">DataFrame([columns],</span> <span style="color: #657b83">columns</span><span style="color: #93a1a1">=</span><span style="color: #657b83">columns)</span> 
    <span style="color: #657b83">df_w</span><span style="color: #93a1a1">.</span><span style="color: #657b83">to_csv(</span><span style="color: #2aa198">&#39;results/employees.csv&#39;</span><span style="color: #657b83">,</span> <span style="color: #657b83">mode</span><span style="color: #93a1a1">=</span><span style="color: #2aa198">&#39;w&#39;</span><span style="color: #657b83">,</span> <span style="color: #657b83">index</span><span style="color: #93a1a1">=</span><span style="color: #2aa198">False</span><span style="color: #657b83">,</span> <span style="color: #657b83">header</span><span style="color: #93a1a1">=</span><span style="color: #2aa198">False</span><span style="color: #657b83">)</span> 
    <span style="color: #859900">for</span> <span style="color: #657b83">employee</span> <span style="color: #859900">in</span> <span style="color: #657b83">employees_list:</span> 
        <span style="color: #657b83">employee_info:</span> <span style="color: #268bd2">list</span> <span style="color: #93a1a1">=</span> <span style="color: #657b83">[</span> 
            <span style="color: #657b83">employee[</span><span style="color: #2aa198">&#39;name&#39;</span><span style="color: #657b83">],</span> <span style="color: #657b83">employee[</span><span style="color: #2aa198">&#39;phone&#39;</span><span style="color: #657b83">],</span> <span style="color: #657b83">employee[</span><span style="color: #2aa198">&#39;email&#39;</span><span style="color: #657b83">],</span> <span style="color: #657b83">employee[</span><span style="color: #2aa198">&#39;age&#39;</span><span style="color: #657b83">],</span> 
            <span style="color: #657b83">employee[</span><span style="color: #2aa198">&#39;occupation&#39;</span><span style="color: #657b83">],</span> <span style="color: #657b83">employee[</span><span style="color: #2aa198">&#39;nationality&#39;</span><span style="color: #657b83">],</span> <span style="color: #657b83">employee[</span><span style="color: #2aa198">&#39;university&#39;</span><span style="color: #657b83">],</span> <span style="color: #657b83">employee[</span><span style="color: #2aa198">&#39;work_experience&#39;</span><span style="color: #657b83">]</span> 
        <span style="color: #657b83">]</span> 
        <span style="color: #657b83">df_a</span> <span style="color: #93a1a1">=</span> <span style="color: #657b83">pd</span><span style="color: #93a1a1">.</span><span style="color: #657b83">DataFrame([employee_info],</span> <span style="color: #657b83">columns</span><span style="color: #93a1a1">=</span><span style="color: #657b83">columns)</span> 
        <span style="color: #657b83">df_a</span><span style="color: #93a1a1">.</span><span style="color: #657b83">to_csv(</span><span style="color: #2aa198">&#39;results/employees.csv&#39;</span><span style="color: #657b83">,</span> <span style="color: #657b83">mode</span><span style="color: #93a1a1">=</span><span style="color: #2aa198">&#39;a&#39;</span><span style="color: #657b83">,</span> <span style="color: #657b83">index</span><span style="color: #93a1a1">=</span><span style="color: #2aa198">False</span><span style="color: #657b83">,</span> <span style="color: #657b83">header</span><span style="color: #93a1a1">=</span><span style="color: #2aa198">False</span><span style="color: #657b83">)</span></pre></div>
    </div>
</div>
{% endblock %}